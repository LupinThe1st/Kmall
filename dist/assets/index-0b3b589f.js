import{d as S,u as U,r as f,a as k,b as C,c as B,e as n,o as F,f as $,g as e,w as a,h as t,i as c,j as H,l as P,k as R,E as g,p as T,m as b,_ as j}from"./index-3245cefb.js";import{g as q}from"./time-e894181e.js";const v=i=>(T("data-v-f3655f66"),i=i(),b(),i),K={class:"login_container"},L={class:"form-container"},z=v(()=>c("h1",null,"Hello",-1)),A=v(()=>c("h2",null,"欢迎来到Kmall",-1)),D=S({__name:"index",setup(i){let w=U(),p=f(),x=k(),h=C(),d=f(!1),l=B({username:"admin",password:"atguigu123"});const y=async()=>{await p.value.validate(),d.value=!0;try{await w.userLogin(l);let r=h.query.redirect;x.push({path:r||"/"}),g({type:"success",message:"欢迎回来",title:`HI,${q()}好`}),d.value=!1}catch(r){d.value=!1,g({type:"error",message:r.message})}},V={username:[{trigger:"change",validator:(r,o,s)=>{o.length>=5?s():s(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(r,o,s)=>{o.length>=6?s():s(new Error("密码长度至少六位"))}}]};return(r,o)=>{const s=n("el-col"),m=n("el-input"),u=n("el-form-item"),N=n("el-button"),E=n("el-form"),I=n("el-row");return F(),$("div",K,[e(I,null,{default:a(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:a(()=>[e(E,{class:"login",model:t(l),rules:V,ref_key:"loginForms",ref:p},{default:a(()=>[c("div",L,[z,A,e(u,{prop:"username"},{default:a(()=>[e(m,{class:"input",type:"text","prefix-icon":t(H),modelValue:t(l).username,"onUpdate:modelValue":o[0]||(o[0]=_=>t(l).username=_)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,{prop:"password"},{default:a(()=>[e(m,{class:"input",type:"password","show-password":"","prefix-icon":t(P),modelValue:t(l).password,"onUpdate:modelValue":o[1]||(o[1]=_=>t(l).password=_)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(N,{loading:t(d),onClick:y},{default:a(()=>[R("登陆")]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})])}}});const Q=j(D,[["__scopeId","data-v-f3655f66"]]);export{Q as default};
